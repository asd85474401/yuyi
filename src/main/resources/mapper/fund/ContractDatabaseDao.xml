<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kcidea.erms.dao.fund.ContractDatabaseDao">
    <delete id="deleteBySidContractId">
        DELETE FROM contract_database
        WHERE s_id = #{sid} AND contract_id = #{contractId}
    </delete>

    <select id="findDidSetBySidContractId" resultType="java.lang.Long">
        SELECT DISTINCT d_id FROM contract_database
        WHERE s_id = #{sid}
        <if test="contractId != null">
            AND contract_id = #{contractId}
        </if>
    </select>
</mapper>
